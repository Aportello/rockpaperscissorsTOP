<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock, Paper, Scissors</title>    
        <link rel="stylesheet" href="style.css">
    </head> 
    <body>
    
    <div id = 'container' class = 'main'>
        <div class ='title'>
            <h2>Choose your fighter!</h2>
        </div>

        <div class ='buttons'>
            <button id = 'rock'>ROCK</button>
            <button id = 'paper'>PAPER</button>
            <button id = 'scissors'>SCISSORS</button>          
        </div>
        <div id = 'round'>
            <h4 id = 'round'>Round 0</h4>
        </div>
        <div class = 'results'>
            
            <h5 id = 'roundResultP'></h5>
            <h5 id = 'roundResultC'></h5>
            <h5 id = 'winner'></h5>
            <h4>Results</h4>
                    <div>
                        <h5 id = 'player'>Player - </h5>
                        <h5 id = 'computer'>Computer - </h5>
                    </div>
        </div>
        <div id = 'ultimateWinner'></div>

    </div>
    
<script>
    
var computerSelection;
var playerSelection;
var playerWins = 0;
var compWins = 0;
var round = 0;

const roundResultP = document.querySelector('#roundResultP');
const roundResultC = document.querySelector('#roundResultC');
const winner = document.querySelector('#winner');
const ultimateWinner = document.querySelector('#ultimateWinner');
const roundNum = document.querySelector('#round');
const player = document.querySelector('#player');
const computer = document.querySelector('#computer');
player.textContent = 'Player - ' + playerWins;
computer.textContent = 'Computer - ' + compWins;




rock.addEventListener('click', () => {
    playerSelection ='Rock';
    playRound();
    roundResultP.textContent = ("Player selects: " + playerSelection)
    roundResultC.textContent = ("Computer selects: " + computerSelection);
    player.textContent = 'Player - ' + playerWins;
    computer.textContent = 'Computer - ' + compWins;
    endGame();  
})

paper.addEventListener('click', () => {
    playerSelection ='Paper';
    playRound();
    roundResultP.textContent = ("Player selects: " + playerSelection)
    roundResultC.textContent = ("Computer selects: " + computerSelection);
    player.textContent = 'Player - ' + playerWins;
    computer.textContent = 'Computer - ' + compWins;
    endGame();
})

scissors.addEventListener('click', () => {
    playerSelection ='Scissors';
    playRound();
    roundResultP.textContent = ("Player selects: " + playerSelection)
    roundResultC.textContent = ("Computer selects: " + computerSelection);
    player.textContent = 'Player - ' + playerWins;
    computer.textContent = 'Computer - ' + compWins;
    endGame();
})

/*if (playerWins == 5 || compWins == 5) {
    endgame();
}*/

//generates number between 1-3, corresponding to rock paper or scissors = computerSelection
function computerPlay() {
    let result = (Math.floor(Math.random()*3) +1);
    switch(result) {
        case 1:
            computerSelection = 'Rock';
        break;
        case 2:
            computerSelection = 'Paper';
        break;
        case 3:
            computerSelection = 'Scissors';
        break;
    }
}

//runs through each round, displays win or loss, updates compWins or playerWins
function playRound() {
    computerPlay();
    round++;
    roundNum.textContent = ("Round " + round);
    
    if (playerSelection == 'Rock' && computerSelection == 'Scissors') {
        return winner.textContent = ('You Win! Rock beats Scissors'), playerWins++;
    } else if (playerSelection == 'Paper' && computerSelection == 'Rock') {
        return winner.textContent = ('You Win! Paper beats Rock'), playerWins++;
    } else if (playerSelection == 'Scissors' && computerSelection == 'Paper') {
        return winner.textContent = ('You Win! Scissors beats Paper'), playerWins++;
    } else if (playerSelection == 'Rock' && computerSelection == 'Paper') {
        return winner.textContent = ('You Lose! Paper beats Rock'), compWins++;
    } else if (playerSelection == 'Paper' && computerSelection == 'Scissors') {
        return winner.textContent = ('You Lose! Scissors beats Paper'), compWins++;
    } else if (playerSelection == 'Scissors' && computerSelection == 'Rock') {
        return winner.textContent = ('You Lose! Rock beats Scissors'), compWins++;
    } else if (playerSelection == computerSelection) {
        return winner.textContent = ("It's a tie!");
    } 
}


//displays results
function endGame() {
    if (playerWins == 5) {
        ultimateWinner.textContent = "YOU WIN!"
    } else if (compWins == 5) {
        ultimateWinner.textContent = "BEATEN BY THE MACHINE"
    }
}


</script>
</body>
</html>
